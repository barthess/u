#include <math.h>

#include "uav.h"

#include "fixed_wing.h"
#include "ground_rover.h"

/*
 ******************************************************************************
 * DEFINES
 ******************************************************************************
 */

/*
 ******************************************************************************
 * EXTERNS
 ******************************************************************************
 */

/*
 ******************************************************************************
 * GLOBAL VARIABLES
 ******************************************************************************
 */

/*
 *******************************************************************************
 *******************************************************************************
 * LOCAL FUNCTIONS
 *******************************************************************************
 *******************************************************************************
 */

/*
 *******************************************************************************
 * EXPORTED FUNCTIONS
 *******************************************************************************
 */

/**
 * Convert from float -1..1 value to uint8_t 0..255
 */
uint8_t float2thrust(float v){
  return __SSAT(roundf(256 * v), 9);
}

uint8_t float2servo(float v){
  return __SSAT((roundf(128 * 5 * v) + 128), 9);
}

/**
 *
 */
void ControllerInit(void){
  ControllerGroundRoverInit();
}
